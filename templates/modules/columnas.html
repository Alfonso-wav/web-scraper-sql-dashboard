<!-- M칩dulo: Columnas -->
<div class="draggable-module" draggable="false" data-module-id="columnas" data-module-name="Columnas" data-module-icon="bi-columns" style="left: 640px; top: 20px; width: 450px; height: 500px;">
                <div class="card shadow-sm h-100 d-flex flex-column">
                    <div class="card-body d-flex flex-column" style="min-height: 0;">
                        <div class="d-flex justify-content-between align-items-center mb-3 flex-shrink-0">
                            <h5 class="card-title mb-0"><i class="bi bi-columns"></i> Columnas m치s Comunes</h5>
                            <div class="d-flex gap-2 align-items-center">
                                <button class="btn btn-sm btn-outline-secondary" onclick="minimizeModule('columnas')" title="Minimizar">
                                    <i class="bi bi-dash-lg"></i>
                                </button>
                                <span class="drag-handle" title="Arrastra para mover"><i class="bi bi-grip-vertical"></i></span>
                            </div>
                        </div>
                        
                        <!-- Filtro de tablas -->
                        <div class="mb-3 flex-shrink-0">
                            <div class="dropdown w-100">
                                <button class="btn btn-outline-secondary btn-sm w-100 dropdown-toggle" type="button" id="tableFilterDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="bi bi-funnel"></i> Filtrar por tabla (<span id="selectedTablesCount">Todas</span>)
                                </button>
                                <div class="dropdown-menu w-100 p-3" aria-labelledby="tableFilterDropdown" style="max-height: 300px; overflow-y: auto;">
                                    <div class="mb-2">
                                        <button class="btn btn-link btn-sm p-0" onclick="selectAllTables()">Seleccionar todas</button>
                                        <span class="mx-1">|</span>
                                        <button class="btn btn-link btn-sm p-0" onclick="clearAllTables()">Limpiar</button>
                                    </div>
                                    <hr class="my-2">
                                    <div id="tableFilterList">
                                        <!-- Se llenar치 din치micamente -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <p class="small text-muted mb-3 flex-shrink-0">Click para insertar en el cursor</p>
                        <div class="flex-grow-1 overflow-auto" id="columnsListContainer" style="min-height: 0;">
                            {% for column in common_columns %}
                            <div class="list-group-item list-group-item-action clickable border-start border-3 border-primary mb-2" onclick="insertAtCursor('{{ column.name }}')">
                                <div class="d-flex justify-content-between align-items-center">
                                    <span class="fw-bold text-primary">{{ column.name }}</span>
                                    <span class="badge bg-light text-dark">{{ column.frequency }} tablas</span>
                                </div>
                            </div>
                            {% endfor %}
                            
                            {% if not common_columns %}
                            <div class="text-muted small p-3">
                                No hay columnas disponibles. Scrape algunos productos primero.
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            <!-- Resize handles -->
                <div class="resize-handle resize-right"></div>
                <div class="resize-handle resize-bottom"></div>
                <div class="resize-handle resize-corner"></div>
            </div>
